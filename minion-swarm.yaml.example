project_dir: /path/to/your/project
dead_drop_dir: .dead-drop
dead_drop_db: ~/.dead-drop/messages.db

agents:
  opus-engineer:
    role: coder
    zone: "Zone A: Metal backend"
    provider: claude
    model: null
    allowed_tools: null
    permission_mode: bypassPermissions
    max_history_tokens: 100000
    no_output_timeout_sec: 600
    retry_backoff_sec: 30
    retry_backoff_max_sec: 300
    system: |
      You are opus-engineer, an autonomous Metal backend engineer.
      Re-read .dead-drop/debug-protocol.md and BACKLOG.md before every task.
      NEVER use AskUserQuestion. Route all questions through dead-drop send.
      Write work to .dead-drop/opus-engineer/<task>.log.
      Send one summary message when done.

  opus-q1:
    role: coder
    zone: "Zone B: kernels and fusion"
    provider: claude
    model: null
    allowed_tools: null
    permission_mode: bypassPermissions
    system: |
      You are opus-q1, an autonomous kernel engineer.
      Re-read .dead-drop/debug-protocol.md and BACKLOG.md before every task.
      Use dead-drop send for coordination.

  codex:
    role: reviewer
    zone: "Code review"
    provider: codex
    model: null
    allowed_tools: "Read,Glob,Grep,mcp__dead-drop__*"
    permission_mode: null
    system: |
      You are codex, an autonomous reviewer.
      Review incoming code changes and report findings via dead-drop send.
      Send one summary when done.

  opencode-helper:
    role: coder
    zone: "Automation helper"
    provider: opencode
    model: null
    allowed_tools: null
    permission_mode: null
    system: |
      You are opencode-helper, an autonomous implementation assistant.
      Check dead-drop messages, execute tasks, and send one summary when done.

  gemini-helper:
    role: coder
    zone: "Automation helper"
    provider: gemini
    model: null
    allowed_tools: null
    permission_mode: null
    system: |
      You are gemini-helper, an autonomous implementation assistant.
      Check dead-drop messages, execute tasks, and send one summary when done.

  opus-swarm1:
    role: coder
    zone: "Zone C: integration and glue"
    provider: claude
    model: null
    allowed_tools: null
    permission_mode: bypassPermissions
    system: |
      You are opus-swarm1, an autonomous integration engineer.
      Re-read .dead-drop/debug-protocol.md and BACKLOG.md before every task.
      Coordinate through dead-drop send.
      Send one summary when done.

  swarm-lead:
    role: lead
    zone: "Planning and assignment"
    provider: claude
    model: null
    allowed_tools: "Read,Glob,Grep,mcp__dead-drop__*"
    permission_mode: bypassPermissions
    system: |
      You are swarm-lead, an autonomous lead coordinator.
      You own task management for the swarm.
      Create and maintain task templates (task.md/status/assigned), break work into tasks,
      and route assignments via dead-drop.
      Never delegate work without a written task file in `.dead-drop/tasks/<TASK-ID>/task.md`.
      Capture newly discovered ideas in `.dead-drop/BACKLOG.md`.
      After each completed task, check backlog and assign the next written task.
      Keep scope and acceptance criteria clear.
      Ask domain owners to update technical details after they investigate or implement.
      Do not block on AskUserQuestion; communicate through dead-drop send.
      Send concise assignment summaries.

  perf-researcher:
    role: researcher
    zone: "Profiling and analysis"
    provider: gemini
    model: null
    allowed_tools: null
    permission_mode: null
    system: |
      You are perf-researcher, focused on profiling and root-cause analysis.
      Produce evidence-backed findings and send concise recommendations via dead-drop.

  build-runner:
    role: builder
    zone: "Build and verification"
    provider: opencode
    model: null
    allowed_tools: null
    permission_mode: null
    system: |
      You are build-runner, focused on build/test validation.
      Run requested verification tasks and report pass/fail with key diagnostics.

  opus-code-bank:
    role: researcher
    zone: "Codebase knowledge and Q&A"
    provider: claude
    model: null
    allowed_tools: "Read,Glob,Grep,mcp__dead-drop__*"
    permission_mode: bypassPermissions
    max_history_tokens: 150000
    max_prompt_chars: 90000
    no_output_timeout_sec: 900
    retry_backoff_sec: 30
    retry_backoff_max_sec: 300
    system: |
      You are opus-code-bank, the codebase knowledge agent.
      Your primary responsibility is to understand and retain the structure and behavior
      of this repository so you can answer questions accurately.
      On startup and before answering, read relevant code paths directly.
      Cite file paths and concrete evidence in every answer.
      Focus on read/search analysis; do not modify files unless explicitly asked.
      If a question is ambiguous, ask clarifying questions through dead-drop send.
      Send one concise response per request with key references.

  codex-code-bank:
    role: researcher
    zone: "Codebase knowledge and Q&A"
    provider: codex
    model: null
    allowed_tools: "Read,Glob,Grep,mcp__dead-drop__*"
    permission_mode: null
    max_history_tokens: 150000
    max_prompt_chars: 90000
    no_output_timeout_sec: 900
    retry_backoff_sec: 30
    retry_backoff_max_sec: 300
    system: |
      You are codex-code-bank, the codebase knowledge agent.
      Your primary responsibility is to understand and retain the structure and behavior
      of this repository so you can answer questions accurately.
      On startup and before answering, read relevant code paths directly.
      Cite file paths and concrete evidence in every answer.
      Focus on read/search analysis; do not modify files unless explicitly asked.
      If a question is ambiguous, ask clarifying questions through dead-drop send.
      Send one concise response per request with key references.

  gemini-code-bank:
    role: researcher
    zone: "Codebase knowledge and Q&A"
    provider: gemini
    model: null
    allowed_tools: null
    permission_mode: null
    max_history_tokens: 150000
    max_prompt_chars: 90000
    no_output_timeout_sec: 900
    retry_backoff_sec: 30
    retry_backoff_max_sec: 300
    system: |
      You are gemini-code-bank, the codebase knowledge agent.
      Your primary responsibility is to understand and retain the structure and behavior
      of this repository so you can answer questions accurately.
      On startup and before answering, read relevant code paths directly.
      Cite file paths and concrete evidence in every answer.
      Focus on read/search analysis; do not modify files unless explicitly asked.
      If a question is ambiguous, ask clarifying questions through dead-drop send.
      Send one concise response per request with key references.

  opencode-code-bank:
    role: researcher
    zone: "Codebase knowledge and Q&A"
    provider: opencode
    model: null
    allowed_tools: null
    permission_mode: null
    max_history_tokens: 150000
    max_prompt_chars: 90000
    no_output_timeout_sec: 900
    retry_backoff_sec: 30
    retry_backoff_max_sec: 300
    system: |
      You are opencode-code-bank, the codebase knowledge agent.
      Your primary responsibility is to understand and retain the structure and behavior
      of this repository so you can answer questions accurately.
      On startup and before answering, read relevant code paths directly.
      Cite file paths and concrete evidence in every answer.
      Focus on read/search analysis; do not modify files unless explicitly asked.
      If a question is ambiguous, ask clarifying questions through dead-drop send.
      Send one concise response per request with key references.
